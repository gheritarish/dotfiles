# Literate emacs configuration

A custom literate Emacs configuration converted from Doom Emacs, using Org-mode for organization and maintainability.

## Structure

- `early-init.el` - Early initialization for performance optimization
- `init.el` - Bootstrap file that loads the literate configuration
- `config.org` - Main literate configuration file (edit this!)
- `config.el` - Auto-generated from config.org (do not edit directly)
- `custom.el` - Custom settings (auto-generated by Emacs)
- `snippets/` - YASnippet snippets directory

## Installation

1. Backup your existing Emacs configuration if you have one:
   ```bash
   mv ~/.emacs.d ~/.emacs.d.backup
   ```

2. This configuration is already installed in `~/.emacs.d/`

3. Start Emacs. On first launch:
   - straight.el will bootstrap itself
   - All packages will be downloaded and compiled
   - This may take 5-10 minutes

## Usage

### Editing configuration

All configuration is done in `config.org`. The file is organized into sections:

- **Basic Settings** - User info, performance tuning
- **Evil Mode** - Vim keybindings with custom trsn layout
- **UI Configuration** - Theme, fonts, modeline
- **Completion Framework** - Vertico, Corfu, Orderless
- **Editor Enhancements** - Tree-sitter, rainbow delimiters, etc.
- **Programming Languages** - Language-specific configs (Python, etc.)
- **Org Mode** - Org settings and Org-roam
- **Tools** - Magit, vterm, Docker, PDF tools
- **AI Integration** - GPtel/GitHub Copilot

### Making changes

1. Open `~/.emacs.d/config.org` in Emacs
2. Edit the configuration in the appropriate section
3. Save the file
4. Restart Emacs or run `M-x eval-buffer` on the generated config.el

The init.el automatically detects when config.org is newer than config.el and re-tangles it.

### Manual tangling

If you want to manually tangle the org file:
- Open config.org
- Run `C-c C-v t` (or `M-x org-babel-tangle`)

## Key features preserved from doom

### Custom keybindings (trsn layout)

Movement keys have been remapped:
- `t/r/s/n` = left/up/down/right (instead of h/j/k/l)
- `T/N` = beginning/end of line
- `R/S` = scroll up/down
- `k/K` = substitute/change-whole-line
- `h/H` = replace/replace-state
- `l/L` = search next/previous

### Leader keys

- `, t` = Open vterm
- `, s p` = Ripgrep search (consult-ripgrep)
- `, f` = Format with ruff
- `, i` = Format imports with ruff
- `, c c` = Comment line
- `, n` = Find references (LSP)

### Python configuration

- LSP with pylsp and pyright
- Ruff for formatting and linting
- Custom ruff configuration support
- Eglot as alternative LSP client

### UI features

- Catppuccin theme
- FantasqueSansM Nerd Font
- Doom modeline with word count
- Rainbow delimiters
- Indent guides with rainbow colors
- Tree-sitter syntax highlighting

## Package management

This configuration uses `straight.el` for package management, similar to Doom Emacs. Packages are declared with `use-package` in config.org.

To update packages:
```elisp
M-x straight-pull-all
M-x straight-rebuild-all
```

## Troubleshooting

### First Launch Issues

If packages fail to install on first launch:
1. Delete `~/.emacs.d/straight/` directory
2. Restart Emacs
3. Packages will re-download

### Configuration Not Loading

1. Check `*Messages*` buffer for errors
2. Ensure config.org is properly tangled:
   - Open config.org
   - Run `M-x org-babel-tangle`
3. Check that config.el was generated

### LSP Issues

If Python LSP isn't working:
1. Ensure pylsp is installed: `pip install python-lsp-server python-lsp-ruff`
2. Ensure pyright is installed: `npm install -g pyright`
3. Check LSP logs: `M-x lsp-workspace-show-log`

## Differences from Doom Emacs

- No Doom-specific macros (map!, after!, use-package!, etc.)
- Standard use-package with straight.el instead of Doom's package manager
- Explicit package configuration instead of module system
- Literate configuration in org-mode
- More transparent package loading

## Credits

Configuration converted from Doom Emacs setup for user telmar.
